<svg viewBox="0 0 1200 1400" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="headerGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="stepGrad1" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#4facfe;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="stepGrad2" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#43e97b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#38f9d7;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="stepGrad3" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#fa709a;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fee140;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="stepGrad4" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#a18cd1;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fbc2eb;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="stepGrad5" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#ffecd2;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fcb69f;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="stepGrad6" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#ff9a9e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fecfef;stop-opacity:1" />
    </linearGradient>
    
    <filter id="shadow">
      <feDropShadow dx="0" dy="4" stdDeviation="6" flood-opacity="0.2"/>
    </filter>
    
    <marker id="arrowhead" markerWidth="12" markerHeight="12" refX="11" refY="4" orient="auto">
      <polygon points="0 0, 12 4, 0 8" fill="#667eea" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="1400" fill="#f8f9fa"/>
  
  <!-- Main container -->
  <rect x="50" y="30" width="1100" height="1340" rx="12" fill="white" filter="url(#shadow)"/>
  
  <!-- Header -->
  <rect x="50" y="30" width="1100" height="80" rx="12" fill="url(#headerGrad)"/>
  <text x="600" y="75" font-family="Arial, sans-serif" font-size="32" font-weight="bold" fill="white" text-anchor="middle">
    FLUX D'EXÉCUTION
  </text>
  
  <!-- Step 1: CHARGEMENT -->
  <g transform="translate(100, 150)">
    <rect width="1000" height="160" rx="8" fill="url(#stepGrad1)" opacity="0.15"/>
    <text x="20" y="30" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#2d3748">
      1. CHARGEMENT
    </text>
    
    <!-- CSV RAW -->
    <g transform="translate(100, 60)">
      <rect width="140" height="70" rx="6" fill="white" stroke="#4facfe" stroke-width="2" filter="url(#shadow)"/>
      <text x="70" y="40" font-family="monospace" font-size="14" font-weight="600" fill="#2d3748" text-anchor="middle">
        CSV RAW
      </text>
    </g>
    
    <!-- Arrow -->
    <path d="M 250 95 L 310 95" stroke="#667eea" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
    
    <!-- load_data() -->
    <g transform="translate(320, 60)">
      <rect width="140" height="70" rx="6" fill="#4facfe" filter="url(#shadow)"/>
      <text x="70" y="40" font-family="monospace" font-size="13" font-weight="600" fill="white" text-anchor="middle">
        load_data()
      </text>
    </g>
    
    <!-- Arrow -->
    <path d="M 470 95 L 530 95" stroke="#667eea" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
    
    <!-- DataFrame -->
    <g transform="translate(540, 60)">
      <rect width="140" height="70" rx="6" fill="white" stroke="#4facfe" stroke-width="2" filter="url(#shadow)"/>
      <text x="70" y="40" font-family="monospace" font-size="14" font-weight="600" fill="#2d3748" text-anchor="middle">
        DataFrame
      </text>
    </g>
  </g>
  
  <!-- Step 2: NETTOYAGE -->
  <g transform="translate(100, 350)">
    <rect width="1000" height="160" rx="8" fill="url(#stepGrad2)" opacity="0.15"/>
    <text x="20" y="30" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#2d3748">
      2. NETTOYAGE
    </text>
    
    <!-- DataFrame -->
    <g transform="translate(100, 60)">
      <rect width="140" height="70" rx="6" fill="white" stroke="#43e97b" stroke-width="2" filter="url(#shadow)"/>
      <text x="70" y="40" font-family="monospace" font-size="14" font-weight="600" fill="#2d3748" text-anchor="middle">
        DataFrame
      </text>
    </g>
    
    <!-- Arrow -->
    <path d="M 250 95 L 310 95" stroke="#667eea" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
    
    <!-- duplicate_dataframe -->
    <g transform="translate(320, 60)">
      <rect width="180" height="70" rx="6" fill="#43e97b" filter="url(#shadow)"/>
      <text x="90" y="35" font-family="monospace" font-size="12" font-weight="600" fill="white" text-anchor="middle">
        duplicate_
      </text>
      <text x="90" y="52" font-family="monospace" font-size="12" font-weight="600" fill="white" text-anchor="middle">
        dataframe()
      </text>
    </g>
    
    <!-- Arrow -->
    <path d="M 510 95 L 560 95" stroke="#667eea" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
    
    <!-- df nettoyé -->
    <g transform="translate(570, 60)">
      <rect width="140" height="70" rx="6" fill="white" stroke="#43e97b" stroke-width="2" filter="url(#shadow)"/>
      <text x="70" y="40" font-family="monospace" font-size="14" font-weight="600" fill="#2d3748" text-anchor="middle">
        df nettoyé
      </text>
    </g>
  </g>
  
  <!-- Step 3: SÉPARATION X/y -->
  <g transform="translate(100, 550)">
    <rect width="1000" height="160" rx="8" fill="url(#stepGrad3)" opacity="0.15"/>
    <text x="20" y="30" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#2d3748">
      3. SÉPARATION X/y
    </text>
    
    <!-- df nettoyé -->
    <g transform="translate(100, 60)">
      <rect width="140" height="70" rx="6" fill="white" stroke="#fa709a" stroke-width="2" filter="url(#shadow)"/>
      <text x="70" y="40" font-family="monospace" font-size="14" font-weight="600" fill="#2d3748" text-anchor="middle">
        df nettoyé
      </text>
    </g>
    
    <!-- Arrow -->
    <path d="M 250 95 L 300 95" stroke="#667eea" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
    
    <!-- split_features_target -->
    <g transform="translate(310, 60)">
      <rect width="180" height="70" rx="6" fill="#fa709a" filter="url(#shadow)"/>
      <text x="90" y="35" font-family="monospace" font-size="11" font-weight="600" fill="white" text-anchor="middle">
        split_features_
      </text>
      <text x="90" y="52" font-family="monospace" font-size="11" font-weight="600" fill="white" text-anchor="middle">
        target()
      </text>
    </g>
    
    <!-- Arrow -->
    <path d="M 500 95 L 550 95" stroke="#667eea" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
    
    <!-- X_raw -->
    <g transform="translate(560, 60)">
      <rect width="120" height="70" rx="6" fill="white" stroke="#fa709a" stroke-width="2" filter="url(#shadow)"/>
      <text x="60" y="40" font-family="monospace" font-size="14" font-weight="600" fill="#2d3748" text-anchor="middle">
        X_raw
      </text>
    </g>
    
    <!-- y_raw -->
    <g transform="translate(700, 60)">
      <rect width="120" height="70" rx="6" fill="white" stroke="#fa709a" stroke-width="2" filter="url(#shadow)"/>
      <text x="60" y="40" font-family="monospace" font-size="14" font-weight="600" fill="#2d3748" text-anchor="middle">
        y_raw
      </text>
    </g>
  </g>
  
  <!-- Step 4: TRANSFORMATION -->
  <g transform="translate(100, 750)">
    <rect width="1000" height="200" rx="8" fill="url(#stepGrad4)" opacity="0.15"/>
    <text x="20" y="30" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#2d3748">
      4. TRANSFORMATION
    </text>
    
    <!-- X_raw -->
    <g transform="translate(100, 70)">
      <rect width="120" height="70" rx="6" fill="white" stroke="#a18cd1" stroke-width="2" filter="url(#shadow)"/>
      <text x="60" y="40" font-family="monospace" font-size="14" font-weight="600" fill="#2d3748" text-anchor="middle">
        X_raw
      </text>
    </g>
    
    <!-- Arrow -->
    <path d="M 230 105 L 270 105" stroke="#667eea" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
    
    <!-- HeartDiseasePreprocessor -->
    <g transform="translate(280, 60)">
      <rect width="280" height="90" rx="6" fill="#a18cd1" filter="url(#shadow)"/>
      <text x="140" y="25" font-family="monospace" font-size="12" font-weight="700" fill="white" text-anchor="middle">
        HeartDiseasePreprocessor
      </text>
      <text x="140" y="48" font-family="monospace" font-size="11" fill="white" text-anchor="middle">
        • fit() → détecte cols
      </text>
      <text x="140" y="67" font-family="monospace" font-size="11" fill="white" text-anchor="middle">
        • transform() → scale
      </text>
      <text x="140" y="85" font-family="monospace" font-size="11" fill="white" text-anchor="middle">
        + one-hot encode
      </text>
    </g>
    
    <!-- Arrow -->
    <path d="M 570 105 L 620 105" stroke="#667eea" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
    
    <!-- X_transformed -->
    <g transform="translate(630, 65)">
      <rect width="180" height="80" rx="6" fill="white" stroke="#a18cd1" stroke-width="2" filter="url(#shadow)"/>
      <text x="90" y="35" font-family="monospace" font-size="13" font-weight="600" fill="#2d3748" text-anchor="middle">
        X_transformed
      </text>
      <text x="90" y="58" font-family="monospace" font-size="11" fill="#718096" text-anchor="middle">
        (scaled+encoded)
      </text>
    </g>
  </g>
  
  <!-- Step 5: MAPPING TARGET -->
  <g transform="translate(100, 990)">
    <rect width="1000" height="160" rx="8" fill="url(#stepGrad5)" opacity="0.15"/>
    <text x="20" y="30" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#2d3748">
      5. MAPPING TARGET
    </text>
    
    <!-- y_raw -->
    <g transform="translate(150, 60)">
      <rect width="120" height="70" rx="6" fill="white" stroke="#fcb69f" stroke-width="2" filter="url(#shadow)"/>
      <text x="60" y="40" font-family="monospace" font-size="14" font-weight="600" fill="#2d3748" text-anchor="middle">
        y_raw
      </text>
    </g>
    
    <!-- Arrow -->
    <path d="M 280 95 L 340 95" stroke="#667eea" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
    
    <!-- Mapping -->
    <g transform="translate(350, 60)">
      <rect width="180" height="70" rx="6" fill="#fcb69f" filter="url(#shadow)"/>
      <text x="90" y="35" font-family="monospace" font-size="13" font-weight="600" fill="white" text-anchor="middle">
        Yes→1, No→0
      </text>
    </g>
    
    <!-- Arrow -->
    <path d="M 540 95 L 600 95" stroke="#667eea" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
    
    <!-- y_arr -->
    <g transform="translate(610, 60)">
      <rect width="120" height="70" rx="6" fill="white" stroke="#fcb69f" stroke-width="2" filter="url(#shadow)"/>
      <text x="60" y="40" font-family="monospace" font-size="14" font-weight="600" fill="#2d3748" text-anchor="middle">
        y_arr
      </text>
    </g>
  </g>
  
  <!-- Step 6: EXPORT -->
  <g transform="translate(100, 1190)">
    <rect width="1000" height="160" rx="8" fill="url(#stepGrad6)" opacity="0.15"/>
    <text x="20" y="30" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#2d3748">
      6. EXPORT
    </text>
    
    <!-- X_transformed+y_arr -->
    <g transform="translate(100, 60)">
      <rect width="190" height="70" rx="6" fill="white" stroke="#ff9a9e" stroke-width="2" filter="url(#shadow)"/>
      <text x="95" y="35" font-family="monospace" font-size="12" font-weight="600" fill="#2d3748" text-anchor="middle">
        X_transformed
      </text>
      <text x="95" y="52" font-family="monospace" font-size="12" font-weight="600" fill="#2d3748" text-anchor="middle">
        + y_arr
      </text>
    </g>
    
    <!-- Arrow -->
    <path d="M 300 95 L 360 95" stroke="#667eea" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
    
    <!-- export_processed() -->
    <g transform="translate(370, 60)">
      <rect width="180" height="70" rx="6" fill="#ff9a9e" filter="url(#shadow)"/>
      <text x="90" y="35" font-family="monospace" font-size="12" font-weight="600" fill="white" text-anchor="middle">
        export_
      </text>
      <text x="90" y="52" font-family="monospace" font-size="12" font-weight="600" fill="white" text-anchor="middle">
        processed()
      </text>
    </g>
    
    <!-- Arrow -->
    <path d="M 560 95 L 620 95" stroke="#667eea" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
    
    <!-- CSV PROCESSED -->
    <g transform="translate(630, 60)">
      <rect width="180" height="70" rx="6" fill="white" stroke="#ff9a9e" stroke-width="2" filter="url(#shadow)"/>
      <text x="90" y="40" font-family="monospace" font-size="13" font-weight="600" fill="#2d3748" text-anchor="middle">
        CSV PROCESSED
      </text>
    </g>
  </g>
</svg>